# Documentation Utilisateur - Guide FESUP

## ğŸ“š Table des MatiÃ¨res

1. Guide de l'Administrateur
2. Guide de l'Ã‰lÃ¨ve
3. FAQ

---

## Guide de l'Administrateur

### Ã‰tape 1 : Connexion

1. Ouvrir votre navigateur et aller sur **http://localhost/admin**
2. Saisir vos identifiants :
   - **Email** : `admin@fesup.fr`
   - **Mot de passe** : `admin123`
3. Cliquer sur **Connexion**

Vous arrivez sur le **Tableau de bord administrateur**.

---

### Ã‰tape 2 : Configuration du Forum (Ordre recommandÃ©)

#### 2.1. CrÃ©er les LycÃ©es

1. Cliquer sur **Gestion des LycÃ©es**
2. Cliquer sur **+ Nouveau LycÃ©e**
3. Remplir le formulaire :
   - **Nom** : LycÃ©e Victor Hugo
   - **Ville** : Paris
   - **Code Postal** : 75001
4. Cliquer sur **Enregistrer**

RÃ©pÃ©ter pour tous les lycÃ©es participants.

> ğŸ’¡ **Astuce** : Vous pouvez aussi importer un fichier CSV avec le bouton **Importer CSV**.

---

#### 2.2. Importer les Ã‰lÃ¨ves

**Option A : Import CSV (RecommandÃ© pour de gros volumes)**

1. Cliquer sur **Gestion des Ã‰lÃ¨ves**
2. Cliquer sur **Importer CSV**
3. TÃ©lÃ©charger le modÃ¨le CSV fourni
4. Remplir le fichier avec les colonnes :
   - `nom`, `prenom`, `idNational`, `lycee`, `ville`, `codePostal`, `demiJournee`
5. Uploader le fichier
6. VÃ©rifier le rapport d'import (succÃ¨s/erreurs)

> ğŸ’¡ **Format ID National** : AlphanumÃ©rique majuscule, 5-50 caractÃ¨res (ex: 120890177FA)
> âš ï¸ **Attention** : L'ID National doit Ãªtre **unique** pour chaque Ã©lÃ¨ve

**Option B : CrÃ©ation manuelle**

1. Cliquer sur **+ Nouvel Ã‰lÃ¨ve**
2. Remplir le formulaire :
   - **Nom** : DUPONT
   - **PrÃ©nom** : Jean
   - **ID National** : 120890177FA
   - **LycÃ©e** : LycÃ©e Victor Hugo
   - **Demi-journÃ©e** : Matin
3. Cliquer sur **Enregistrer**

---

#### 2.3. CrÃ©er les Salles

1. Cliquer sur **Gestion des Salles**
2. Cliquer sur **+ Nouvelle Salle**
3. Remplir le formulaire :
   - **Nom** : AmphithÃ©Ã¢tre A
   - **CapacitÃ©** : 150
   - **BÃ¢timent** : BÃ¢timent Principal
   - **Ã‰quipements** : VidÃ©oprojecteur 4K, Sono
4. Cliquer sur **Enregistrer**

> ğŸ’¡ **Import CSV disponible** pour crÃ©er plusieurs salles en une fois.

---

#### 2.4. CrÃ©er les CrÃ©neaux Horaires

1. Cliquer sur **Gestion des CrÃ©neaux**
2. Cliquer sur **+ Nouveau CrÃ©neau**
3. Remplir le formulaire :
   - **Heure de dÃ©but** : 09:00
   - **Heure de fin** : 10:30
   - **Demi-journÃ©e** : Matin
4. Cliquer sur **Enregistrer**

**Exemple de crÃ©neaux pour une journÃ©e complÃ¨te :**

**Matin :**
- 09:00 - 10:30
- 10:45 - 12:15

**AprÃ¨s-midi :**
- 14:00 - 15:30
- 15:45 - 17:15

---

#### 2.5. CrÃ©er les ActivitÃ©s

1. Cliquer sur **Gestion des ActivitÃ©s**
2. Cliquer sur **+ Nouvelle ActivitÃ©**
3. Remplir le formulaire :
   - **Titre** : Intelligence Artificielle et Machine Learning
   - **Description** : Introduction aux concepts de l'IA...
   - **Type** : ConfÃ©rence
   - **Demi-journÃ©e** : Matin
   - **CapacitÃ© Max** : 30
4. Cliquer sur **Enregistrer**

**Types d'activitÃ©s :**
- **ConfÃ©rence** : PrÃ©sentation magistrale (obligatoire pour vÅ“ux 1-2)
- **Table Ronde** : Discussion interactive
- **Flash MÃ©tier** : PrÃ©sentation courte d'un mÃ©tier

> ğŸ’¡ **Import CSV disponible** pour crÃ©er plusieurs activitÃ©s en une fois.

---

### Ã‰tape 3 : GÃ©nÃ©ration des Sessions

**Qu'est-ce qu'une session ?**
Une session est une **instance** d'une activitÃ© dans une salle et un crÃ©neau spÃ©cifiques.

**Exemple :**
- ActivitÃ© : "Intelligence Artificielle"
- Session 1 : AmphithÃ©Ã¢tre A, 09:00-10:30
- Session 2 : AmphithÃ©Ã¢tre A, 10:45-12:15

---

**GÃ©nÃ©ration automatique :**

1. Cliquer sur **GÃ©nÃ©ration des Sessions**
2. Cliquer sur **GÃ©nÃ©rer automatiquement**
3. Le systÃ¨me va :
   - Analyser le nombre de vÅ“ux pour chaque activitÃ©
   - Calculer le nombre de sessions nÃ©cessaires
   - Assigner automatiquement les salles et crÃ©neaux
4. VÃ©rifier le rapport de gÃ©nÃ©ration :
   - Nombre de sessions crÃ©Ã©es : 45
   - RÃ©partition par type d'activitÃ©
5. Cliquer sur **Valider**

> âš ï¸ **Attention** : Cette opÃ©ration ne peut Ãªtre faite qu'**APRÃˆS** que les Ã©lÃ¨ves aient soumis leurs vÅ“ux.

---

### Ã‰tape 4 : Lancer l'Algorithme d'Affectation

1. Cliquer sur **Affectations** dans le menu principal
2. VÃ©rifier les statistiques :
   - Nombre d'Ã©lÃ¨ves ayant soumis leurs vÅ“ux
   - Nombre de sessions disponibles
3. Cliquer sur **Lancer l'Algorithme**
4. Patienter pendant que l'algorithme tourne (environ 30 secondes)
5. Une fois terminÃ©, les rÃ©sultats s'affichent automatiquement

---

**InterprÃ©ter les rÃ©sultats :**

- **Score Hard** : 0 = âœ… Toutes les contraintes respectÃ©es (pas de conflits)
- **Score Soft** : Plus proche de 0 = âœ… Meilleure satisfaction des vÅ“ux
- **Taux de satisfaction** : Pourcentage global de vÅ“ux satisfaits

**Exemple d'affichage :**
```
Score : 0hard / -1250soft
Taux de satisfaction : 85%
Affectations : 250 (50 Ã©lÃ¨ves Ã— 5 vÅ“ux)
```

---

**Actions possibles :**

1. **Modifier une affectation manuellement** :
   - Cliquer sur l'icÃ´ne âœï¸ Ã  cÃ´tÃ© d'une affectation
   - SÃ©lectionner une autre session
   - Enregistrer

2. **TÃ©lÃ©charger le rapport CSV** :
   - Cliquer sur **Exporter CSV**
   - Ouvrir dans Excel pour analyse

3. **Supprimer toutes les affectations** :
   - Cliquer sur **Supprimer tout**
   - Confirmer (âš ï¸ irrÃ©versible)

---

### Ã‰tape 5 : GÃ©nÃ©ration des Tickets PDF

**Une fois l'affectation validÃ©e :**

1. Cliquer sur **GÃ©nÃ©rer tous les tickets PDF**
2. La gÃ©nÃ©ration se fait en arriÃ¨re-plan (peut prendre plusieurs minutes)
3. Une notification vous informe de la progression :
   - "50 tickets gÃ©nÃ©rÃ©s avec succÃ¨s"
   - "0 erreur"

---

**TÃ©lÃ©charger le ticket d'un Ã©lÃ¨ve spÃ©cifique :**

1. Aller dans **Gestion des Ã‰lÃ¨ves**
2. Cliquer sur l'icÃ´ne ğŸ“„ Ã  cÃ´tÃ© d'un Ã©lÃ¨ve
3. Le PDF se tÃ©lÃ©charge automatiquement

---

**RÃ©gÃ©nÃ©rer le ticket d'un Ã©lÃ¨ve :**

1. Aller dans **Gestion des Ã‰lÃ¨ves**
2. Cliquer sur l'icÃ´ne ğŸ”„ Ã  cÃ´tÃ© d'un Ã©lÃ¨ve
3. Le ticket est rÃ©gÃ©nÃ©rÃ© avec les affectations actuelles

---

### Ã‰tape 6 : Visualiser les Statistiques

**Tableau de bord :**

1. Revenir sur le **Tableau de bord**
2. Vous y trouverez :
   - **Nombre total d'Ã©lÃ¨ves** : 50
   - **VÅ“ux soumis** : 250 (50 Ã— 5)
   - **ActivitÃ©s disponibles** : 28
   - **Sessions crÃ©Ã©es** : 45
   - **Tickets gÃ©nÃ©rÃ©s** : 50
   - **Graphiques** :
     - RÃ©partition par lycÃ©e
     - RÃ©partition par type d'activitÃ©
     - Taux de remplissage des sessions

---

### Ã‰tape 7 : RÃ©initialisation SystÃ¨me (SuperAdmin uniquement)

**âš ï¸ ATTENTION : Cette action supprime TOUTES les donnÃ©es !**

1. Cliquer sur **ParamÃ¨tres SystÃ¨me**
2. Saisir le mot de passe SuperAdmin
3. Cliquer sur **Purger toutes les donnÃ©es**
4. Confirmer la suppression
5. Le systÃ¨me supprime dans l'ordre :
   - Affectations
   - VÅ“ux
   - Sessions
   - Tickets PDF
   - Ã‰lÃ¨ves
   - ActivitÃ©s
   - Salles
   - CrÃ©neaux
   - LycÃ©es

> ğŸ’¡ **Cas d'usage** : RÃ©initialiser pour une nouvelle Ã©dition du forum.

---

## Guide de l'Ã‰lÃ¨ve

### Ã‰tape 1 : Identification

1. Ouvrir votre navigateur et aller sur **http://localhost**
2. Vous arrivez sur la page d'identification
3. Saisir vos informations :
   - **ID National** : *(fourni par votre lycÃ©e, ex: 120890177FA)*
   - **Nom de famille** : DUPONT *(en majuscules)*
4. Cliquer sur **Valider**

> ğŸ’¡ **Format ID National** : 12 chiffres suivis de 2 lettres majuscules (ex: 120890177FA)
> ğŸ’¡ **Astuce** : Le nom n'est pas sensible Ã  la casse (dupont = DUPONT).

---

### Ã‰tape 2 : Confirmation de vos informations

1. VÃ©rifier que vos informations sont correctes :
   - **Nom** : DUPONT
   - **PrÃ©nom** : Jean
   - **LycÃ©e** : LycÃ©e Victor Hugo
   - **Demi-journÃ©e** : Matin
2. Si c'est bien vous, cliquer sur **C'est bien moi**
3. Sinon, cliquer sur **Retour** pour re-saisir votre ID

---

### Ã‰tape 3 : Formulaire de VÅ“ux

**Important : Vous devez sÃ©lectionner exactement 5 activitÃ©s.**

---

**VÅ“u 1 et VÅ“u 2 : ConfÃ©rences (obligatoire)**

1. Parcourir la liste des **ConfÃ©rences** disponibles
2. Lire les descriptions et capacitÃ©s
3. SÃ©lectionner votre **VÅ“u 1** (prioritÃ© maximale)
4. SÃ©lectionner votre **VÅ“u 2** (prioritÃ© 2)

> âš ï¸ **RÃ¨gles** :
> - VÅ“ux 1 et 2 doivent Ãªtre **diffÃ©rents**
> - Ils doivent Ãªtre des **ConfÃ©rences** (pas de table ronde ou flash mÃ©tier)

---

**VÅ“u 3, 4 et 5 : Tous types d'activitÃ©s**

1. Parcourir la liste de **toutes les activitÃ©s** :
   - ConfÃ©rences
   - Tables Rondes
   - Flash MÃ©tiers
2. SÃ©lectionner vos vÅ“ux 3, 4 et 5

> âš ï¸ **RÃ¨gles** :
> - VÅ“ux 3, 4 et 5 doivent Ãªtre **diffÃ©rents** entre eux
> - Vous ne pouvez pas re-sÃ©lectionner une activitÃ© dÃ©jÃ  choisie en vÅ“u 1 ou 2

---

**Exemple de sÃ©lection valide :**

| VÅ“u | ActivitÃ© | Type |
|-----|----------|------|
| 1 | Intelligence Artificielle | ConfÃ©rence |
| 2 | Blockchain et Cryptomonnaies | ConfÃ©rence |
| 3 | MÃ©tiers du NumÃ©rique | Table Ronde |
| 4 | DÃ©couverte du MÃ©tier d'IngÃ©nieur | Flash MÃ©tier |
| 5 | Entrepreneuriat et Innovation | ConfÃ©rence |

---

**Une fois vos 5 vÅ“ux sÃ©lectionnÃ©s :**

1. Cliquer sur **Continuer**
2. Vous arrivez sur la page de rÃ©capitulatif

---

### Ã‰tape 4 : RÃ©capitulatif et Soumission

1. **VÃ©rifier attentivement** vos 5 vÅ“ux affichÃ©s :
   - Ordre de prioritÃ©
   - Titres des activitÃ©s
   - Types
2. Si vous souhaitez modifier, cliquer sur **Retour**
3. Si tout est correct, cliquer sur **Confirmer et soumettre mes vÅ“ux**

> âš ï¸ **Attention** : Une fois soumis, **vous ne pourrez plus modifier vos vÅ“ux**.

---

### Ã‰tape 5 : Confirmation de Soumission

**Message affichÃ© :**

```
âœ… Vos vÅ“ux ont Ã©tÃ© enregistrÃ©s avec succÃ¨s !

Date de soumission : 08/11/2025 Ã  14:35

Vous recevrez votre planning personnalisÃ© aprÃ¨s que les 
administrateurs aient lancÃ© l'algorithme d'affectation.
```

---

**Que se passe-t-il ensuite ?**

1. Les administrateurs attendent que tous les Ã©lÃ¨ves soumettent leurs vÅ“ux
2. Ils lancent l'algorithme d'affectation (voir Guide Admin)
3. Ils gÃ©nÃ¨rent les tickets PDF
4. Vous pouvez revenir sur le site pour tÃ©lÃ©charger votre planning

---

### Ã‰tape 6 : TÃ©lÃ©charger votre Planning (aprÃ¨s affectation)

**Une fois l'affectation effectuÃ©e :**

1. Retourner sur **http://localhost**
2. Re-saisir votre **ID National** et **Nom**
   - Exemple : ID National = 120890177FA, Nom = DUPONT
3. Cliquer sur **TÃ©lÃ©charger mon planning**
4. Le PDF se tÃ©lÃ©charge automatiquement : `planning_jean_dupont.pdf`

---

**Contenu du PDF :**

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              FESUP - Planning PersonnalisÃ©
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ã‰lÃ¨ve : Jean DUPONT
ID National : 120890177FA
LycÃ©e : LycÃ©e Victor Hugo
Demi-journÃ©e : Matin

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PrioritÃ© | ActivitÃ©                      | Salle         | Horaire
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1        | Intelligence Artificielle     | Amphi A       | 09:00-10:30
2        | Blockchain et Cryptomonnaies  | Amphi B       | 10:45-12:15
3        | MÃ©tiers du NumÃ©rique          | Salle C12     | 09:00-10:30
4        | DÃ©couverte MÃ©tier IngÃ©nieur   | Salle D05     | 10:45-12:15
5        | Entrepreneuriat et Innovation | Amphi A       | 14:00-15:30
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Conservez ce document pour le jour du forum.
```

---

## FAQ (Foire Aux Questions)

### Pour les Ã‰lÃ¨ves

**Q1 : J'ai oubliÃ© mon ID National, que faire ?**  
R : Contactez votre professeur principal ou l'administration de votre lycÃ©e. L'ID National vous a Ã©tÃ© fourni lors de votre inscription.

---

**Q2 : Mon ID National ne fonctionne pas, pourquoi ?**  
R : VÃ©rifiez que vous avez saisi exactement le bon format (12 chiffres + 2 lettres majuscules, ex: 120890177FA). Attention aux caractÃ¨res similaires (0/O, 1/I).

---

**Q3 : Je me suis trompÃ© dans mes vÅ“ux, puis-je les modifier ?**  
R : Non, une fois soumis, les vÅ“ux ne peuvent plus Ãªtre modifiÃ©s. VÃ©rifiez bien avant de cliquer sur "Confirmer".

---

**Q4 : Je n'ai pas eu mon vÅ“u nÂ°1, pourquoi ?**  
R : L'algorithme essaie de maximiser la satisfaction globale tout en respectant les capacitÃ©s des salles. Si votre vÅ“u 1 Ã©tait une activitÃ© trÃ¨s demandÃ©e, il est possible que vous soyez affectÃ© Ã  un autre vÅ“u.

---

**Q5 : Mon planning PDF n'est pas encore disponible, c'est normal ?**  
R : Oui, les administrateurs doivent d'abord lancer l'algorithme d'affectation et gÃ©nÃ©rer les tickets. Revenez plus tard.

---

**Q6 : Je vois 2 activitÃ©s au mÃªme horaire dans mon planning, c'est une erreur ?**  
R : Non, l'algorithme garantit qu'un Ã©lÃ¨ve n'a jamais de conflit horaire. VÃ©rifiez bien les crÃ©neaux indiquÃ©s.

---

### Pour les Administrateurs

**Q1 : Puis-je lancer l'algorithme plusieurs fois ?**  
R : Oui, mais attention : chaque nouvelle exÃ©cution **Ã©crase les rÃ©sultats prÃ©cÃ©dents**. Pensez Ã  exporter les rÃ©sultats avant de relancer.

---

**Q2 : Comment interprÃ©ter le score de l'algorithme ?**  
R :
- **Hard Score = 0** : Aucune contrainte dure violÃ©e (pas de conflits) âœ…
- **Soft Score nÃ©gatif** : Plus proche de 0 = meilleure satisfaction
- **Exemple** : 0hard/-1250soft est un excellent rÃ©sultat

---

**Q3 : Que faire si l'algorithme ne trouve pas de solution (Hard Score â‰  0) ?**  
R : Cela signifie qu'il est impossible de satisfaire toutes les contraintes. Solutions :
1. CrÃ©er plus de sessions (ajouter des salles/crÃ©neaux)
2. RÃ©duire le nombre d'Ã©lÃ¨ves par demi-journÃ©e
3. Augmenter la capacitÃ© des salles

---

**Q4 : Puis-je modifier manuellement une affectation aprÃ¨s l'algorithme ?**  
R : Oui, vous pouvez cliquer sur âœï¸ Ã  cÃ´tÃ© d'une affectation et changer la session. N'oubliez pas de rÃ©gÃ©nÃ©rer le ticket PDF de l'Ã©lÃ¨ve concernÃ©.

---

**Q5 : Comment annuler complÃ¨tement une session d'affectation et recommencer ?**  
R :
1. Aller dans **Affectations**
2. Cliquer sur **Supprimer tout**
3. Confirmer
4. Relancer l'algorithme

---

**Q6 : Les Ã©lÃ¨ves peuvent-ils tÃ©lÃ©charger leur planning avant que j'aie gÃ©nÃ©rÃ© les PDFs ?**  
R : Non, tant que vous n'avez pas cliquÃ© sur "GÃ©nÃ©rer tous les tickets PDF", les Ã©lÃ¨ves verront un message "Ticket pas encore disponible".

---

**Q7 : Combien de temps prend la gÃ©nÃ©ration des tickets PDF ?**  
R : Environ 1-2 secondes par ticket. Pour 50 Ã©lÃ¨ves = ~2 minutes. La gÃ©nÃ©ration se fait en arriÃ¨re-plan, vous pouvez continuer Ã  utiliser l'interface.

---

**Q8 : Que fait le bouton "Purger toutes les donnÃ©es" ?**  
R : Il supprime **TOUT** (Ã©lÃ¨ves, activitÃ©s, vÅ“ux, affectations, tickets). Utilisez-le uniquement pour rÃ©initialiser complÃ¨tement le systÃ¨me (ex: nouvelle Ã©dition du forum).

---

### Questions Techniques

**Q1 : Comment sauvegarder une copie de la base de donnÃ©es ?**  
R :
```bash
docker-compose exec db pg_dump -U fesup_user fesup_db > backup_$(date +%Y%m%d).sql
```

---

**Q2 : Comment restaurer une sauvegarde ?**  
R :
```bash
docker-compose exec -T db psql -U fesup_user fesup_db < backup_20251108.sql
```

---

**Q3 : Les tickets PDF sont stockÃ©s oÃ¹ ?**  
R : Dans un volume Docker persistant : `/var/lib/docker/volumes/fesup_tickets_storage/_data/`

---

**Q4 : Comment accÃ©der directement Ã  la base PostgreSQL ?**  
R :
```bash
docker-compose exec db psql -U fesup_user -d fesup_db
```

Ou via PgAdmin sur http://localhost:5050

---

## Support Technique

**En cas de problÃ¨me :**

1. Consulter les logs :
   ```bash
   docker-compose logs -f backend
   ```

2. RedÃ©marrer les services :
   ```bash
   docker-compose restart
   ```

3. RÃ©initialisation complÃ¨te :
   ```bash
   docker-compose down -v
   ./start.sh
   ```

4. Contacter l'Ã©quipe technique avec :
   - Logs des erreurs
   - Captures d'Ã©cran
   - Description prÃ©cise du problÃ¨me

---